(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{7361:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var r=s(5155),a=s(2115),l=s(5695),n=s(2166),c=s(7168),i=s(8482);s(7650);var o=s(4624),d=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,o.TL)(`Primitive.${t}`),l=a.forwardRef((e,a)=>{let{asChild:l,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(l?s:t,{...n,ref:a})});return l.displayName=`Primitive.${t}`,{...e,[t]:l}},{}),u="Progress",[m,x]=function(e,t=[]){let s=[],l=()=>{let t=s.map(e=>a.createContext(e));return function(s){let r=s?.[e]||t;return a.useMemo(()=>({[`__scope${e}`]:{...s,[e]:r}}),[s,r])}};return l.scopeName=e,[function(t,l){let n=a.createContext(l),c=s.length;s=[...s,l];let i=t=>{let{scope:s,children:l,...i}=t,o=s?.[e]?.[c]||n,d=a.useMemo(()=>i,Object.values(i));return(0,r.jsx)(o.Provider,{value:d,children:l})};return i.displayName=t+"Provider",[i,function(s,r){let i=r?.[e]?.[c]||n,o=a.useContext(i);if(o)return o;if(void 0!==l)return l;throw Error(`\`${s}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let s=()=>{let s=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=s.reduce((t,{useScope:s,scopeName:r})=>{let a=s(e)[`__scope${r}`];return{...t,...a}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return s.scopeName=t.scopeName,s}(l,...t)]}(u),[h,v]=m(u),p=a.forwardRef((e,t)=>{var s,a,l,n;let{__scopeProgress:c,value:i=null,max:o,getValueLabel:u=N,...m}=e;(o||0===o)&&!w(o)&&console.error((s="".concat(o),a="Progress","Invalid prop `max` of value `".concat(s,"` supplied to `").concat(a,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let x=w(o)?o:100;null===i||y(i,x)||console.error((l="".concat(i),n="Progress","Invalid prop `value` of value `".concat(l,"` supplied to `").concat(n,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let v=y(i,x)?i:null,p=b(v)?u(v,x):void 0;return(0,r.jsx)(h,{scope:c,value:v,max:x,children:(0,r.jsx)(d.div,{"aria-valuemax":x,"aria-valuemin":0,"aria-valuenow":b(v)?v:void 0,"aria-valuetext":p,role:"progressbar","data-state":j(v,x),"data-value":null!=v?v:void 0,"data-max":x,...m,ref:t})})});p.displayName=u;var f="ProgressIndicator",g=a.forwardRef((e,t)=>{var s;let{__scopeProgress:a,...l}=e,n=v(f,a);return(0,r.jsx)(d.div,{"data-state":j(n.value,n.max),"data-value":null!==(s=n.value)&&void 0!==s?s:void 0,"data-max":n.max,...l,ref:t})});function N(e,t){return"".concat(Math.round(e/t*100),"%")}function j(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function b(e){return"number"==typeof e}function w(e){return b(e)&&!isNaN(e)&&e>0}function y(e,t){return b(e)&&!isNaN(e)&&e<=t&&e>=0}g.displayName=f;var k=s(3999);let S=a.forwardRef((e,t)=>{let{className:s,value:a,...l}=e;return(0,r.jsx)(p,{ref:t,className:(0,k.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...l,children:(0,r.jsx)(g,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});S.displayName=p.displayName;var A=s(9946);let C=(0,A.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),M=(0,A.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),E=(0,A.A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),$=(0,A.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_=(0,A.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function q(e){let{questions:t,title:s,partId:n}=e,[o,d]=(0,a.useState)(0),[u,m]=(0,a.useState)(null),[x,h]=(0,a.useState)(Array(t.length).fill("")),[v,p]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null),[N,j]=(0,a.useState)([]),[b,w]=(0,a.useState)(0),[y,k]=(0,a.useState)(0),[A,q]=(0,a.useState)(!1),[P,R]=(0,a.useState)([]),[I,L]=(0,a.useState)([]),[T,D]=(0,a.useState)([]),O=(0,l.useRouter)(),Y=A?P:t,H=Y[o],Q=Y.length;(0,a.useEffect)(()=>{let e=e=>{"Space"===e.code&&u&&!v&&(e.preventDefault(),U())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[u,v]),(0,a.useEffect)(()=>{if(!v){let e=setInterval(()=>{k(e=>e+1)},1e3);return()=>clearInterval(e)}},[v]);let z=e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return"".concat(t.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"),":").concat((e%60).toString().padStart(2,"0"))},F=e=>{let s;u||(m(e),A?((s=[...x])[o]=e,h(s),e===P[o].correct?w(b+1):j([...N,o])):((s=[...x])[o]=e,h(s),e===t[o].correct?w(b+1):j([...N,o])))},U=()=>{u&&(m(null),A?o<P.length-1?d(o+1):B():o<t.length-1?d(o+1):X())},X=()=>{g({score:b,total:t.length,incorrectAnswers:N.map(e=>({question:t[e],userAnswer:x[e]}))}),p(!0)},B=()=>{g({score:b,total:P.length,incorrectAnswers:N.map(e=>({question:P[e],userAnswer:x[e]}))}),p(!0)},G=()=>{O.push("/menu")};return(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:(0,r.jsxs)(i.Zp,{className:"w-full max-w-3xl relative",children:[(0,r.jsxs)("div",{className:"absolute top-4 left-4 flex items-center text-gray-600 text-sm",children:[(0,r.jsx)(C,{className:"h-4 w-4 mr-1"}),(0,r.jsx)("span",{children:z(y)})]}),(0,r.jsx)("div",{className:"absolute top-4 right-4",children:(0,r.jsxs)(c.$,{variant:"ghost",size:"sm",onClick:G,className:"text-gray-500 hover:text-gray-700",children:[(0,r.jsx)(M,{className:"h-4 w-4 mr-1"})," Exit"]})}),(0,r.jsxs)(i.aR,{className:"space-y-4 pt-12",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center",children:s}),(0,r.jsx)("p",{className:"text-center text-gray-600",children:"Test your knowledge of Philippine real estate laws and regulations"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(S,{value:(o+1)/Q*100,className:"h-2 bg-blue-100",indicatorClassName:"bg-blue-600"}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Question ",o+1," of ",Q]}),!v&&(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:["Score: ",b,"/",o+ +!!u]})]})]})]}),(0,r.jsxs)(i.Wu,{children:[T.length>0&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-300 rounded",children:[(0,r.jsx)("div",{className:"font-bold text-yellow-700",children:"[DEBUG] Questions served as incorrect this retake:"}),(0,r.jsx)("ul",{className:"list-disc pl-5 text-yellow-800",children:T.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),v?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-2",children:["Your Score: ",null==f?void 0:f.score," / ",null==f?void 0:f.total]}),(0,r.jsxs)("p",{className:"text-lg",children:[(((null==f?void 0:f.score)||0)/((null==f?void 0:f.total)||1)*100).toFixed(2),"%"]}),(0,r.jsx)("div",{className:"mt-4",children:((null==f?void 0:f.score)||0)/((null==f?void 0:f.total)||1)>=.75?(0,r.jsx)("div",{className:"text-green-600 font-semibold",children:"Congratulations! You passed the test."}):(0,r.jsx)("div",{className:"text-red-600 font-semibold",children:"Unfortunately, you did not pass the test."})}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Time taken: ",z(y)]})]}),(null==f?void 0:f.incorrectAnswers.length)?(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Incorrect Answers:"}),(0,r.jsx)("div",{className:"space-y-4",children:f.incorrectAnswers.map((e,t)=>(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsx)("p",{className:"font-medium",children:e.question.question}),(0,r.jsxs)("p",{className:"text-red-600 mt-2",children:["Your answer: ",e.userAnswer||"No answer"]}),(0,r.jsxs)("p",{className:"text-green-600 mt-1",children:["Correct answer: ",e.question.correct]})]},t))})]}):(0,r.jsx)("div",{className:"text-center text-green-600 font-semibold mt-4",children:"Perfect score! You answered all questions correctly."})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"text-lg font-medium bg-gray-50 p-4 rounded-lg",children:H.question}),(0,r.jsx)("div",{className:"space-y-3",children:H.options.map(e=>{let t=u===e,s=e===H.correct,a=t&&s,l=t&&!s;return(0,r.jsx)("div",{className:"p-4 border rounded-lg cursor-pointer transition-colors ".concat(t?"border-2":"hover:bg-gray-50"," ").concat(a?"border-green-500 bg-green-50":""," ").concat(l?"border-red-500 bg-red-50":""," ").concat(!t&&u&&s?"border-green-500 bg-green-50":""),onClick:()=>!u&&F(e),children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{children:e}),a&&(0,r.jsx)(E,{className:"h-5 w-5 text-green-600"}),l&&(0,r.jsx)($,{className:"h-5 w-5 text-red-600"}),!t&&u&&s&&(0,r.jsx)(E,{className:"h-5 w-5 text-green-600"})]})},e)})}),u&&(0,r.jsx)("div",{className:"p-4 rounded-lg ".concat(u===H.correct?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:u===H.correct?"Correct!":"Incorrect. The correct answer is: ".concat(H.correct)})]})]}),(0,r.jsx)(i.wL,{className:"flex justify-center",children:v?(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 w-full",children:[(null==f?void 0:f.incorrectAnswers.length)?(0,r.jsxs)(c.$,{onClick:()=>{let e=A?P:t;N.length>0&&(L(N),R(N.map(t=>e[t])),q(!0),d(0),w(0),j([]),h(Array(N.length).fill("")),D(N.map(t=>{var s;return(null===(s=e[t])||void 0===s?void 0:s.question)||"Q".concat(t+1)})))},className:"flex items-center bg-blue-600 hover:bg-blue-700",children:[(0,r.jsx)(_,{className:"mr-2 h-4 w-4"})," Retake Incorrect"]}):(0,r.jsx)("div",{}),(0,r.jsxs)(c.$,{onClick:()=>{d(0),m(null),h(Array(t.length).fill("")),p(!1),w(0),j([]),k(0),q(!1),R([]),L([])},variant:"outline",className:"flex items-center",children:[(0,r.jsx)(_,{className:"mr-2 h-4 w-4"})," Restart Test"]}),(0,r.jsxs)(c.$,{onClick:G,variant:"secondary",className:"flex items-center",children:[(0,r.jsx)(M,{className:"mr-2 h-4 w-4"})," Exit to Menu"]})]}):(0,r.jsx)(c.$,{onClick:U,disabled:!u,className:"flex items-center bg-blue-600 hover:bg-blue-700 w-full md:w-auto",children:o<Q-1?"Next":"Finish"})})]})})}function P(e){let{params:t}=e,[s,c]=(0,a.useState)(null),i=(0,l.useRouter)();return((0,a.useEffect)(()=>{let e=n.s.find(e=>e.id===t.part);e?c(e):i.push("/menu")},[t.part,i]),s)?(0,r.jsx)(q,{questions:s.questions,title:s.title,partId:s.id}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600"})})}},8744:(e,t,s)=>{Promise.resolve().then(s.bind(s,7361))}},e=>{var t=t=>e(e.s=t);e.O(0,[223,700,441,684,358],()=>t(8744)),_N_E=e.O()}]);